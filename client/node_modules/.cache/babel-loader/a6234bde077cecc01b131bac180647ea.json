{"ast":null,"code":"import _slicedToArray from \"D:\\\\Programing\\\\react\\\\react-web\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Programing\\\\react\\\\react-web\\\\client\\\\src\\\\components\\\\Home\\\\Post.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport config from '../config';\nimport like from '../assets/img_like.png';\nimport dislike from '../assets/img_dislike.png';\nimport textareaAutoHeight from '../tools/textareaAutoHeight';\nexport default (props => {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        commentaries = _React$useState2[0],\n        setCommentaries = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        commentary = _React$useState4[0],\n        setCommentary = _React$useState4[1];\n\n  var date = props.date.split(' '); // 0 = day in week\n  // 1 = mouth\n  // 2 = day in number\n  // 3 = year\n  // 4 = exact time\n  // 5 = gmt stuff\n  // var date = date[4].substr(0, 2) + 'h ' + date[4].substr(3, 2) + 'm '\n\n  var date = date[4].substr(0, 5) + ' ' + date[0];\n  var x = 'aabbc'; //x.\n\n  React.useEffect(() => {\n    textareaAutoHeight('.NewCommentary');\n    getCommentaries();\n  }, []);\n\n  function getCommentaries() {\n    $.get(\"\".concat(config.api, \"/getCommentaries\"), {\n      _id: props._id\n    }, r => {\n      console.log(Object.keys(r));\n      setCommentaries(r.map(comment => React.createElement(\"div\", {\n        key: r._id,\n        className: \"Commentary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, r.body)));\n    });\n  }\n\n  function handleCommentary(e) {\n    e.preventDefault();\n    $.post(\"\".concat(config.api, \"/insertCommentary\"), {\n      _id: props._id,\n      userInfos: localStorage.getItem('@react-web/userInfos'),\n      body: commentary,\n      date: new Date()\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      padding: '15px',\n      fontSize: '15px',\n      color: '#00000073'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      color: '#5c7ee9db'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, props.owner), \" posted at \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, date)), React.createElement(\"p\", {\n    style: {\n      marginLeft: '15px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, props.body), React.createElement(\"div\", {\n    className: \"Post-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, props.image ? React.createElement(\"img\", {\n    src: \"\".concat(config.api, \"/public/images/\").concat(props.image),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }) : ''), React.createElement(\"div\", {\n    className: \"Post-actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"NewPost-likeLbl\",\n    htmlFor: \"NewPost-like\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: like,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"NewPost-like\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    className: \"NewPost-dislikeLbl\",\n    htmlFor: \"NewPost-dislike\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: dislike,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"NewPost-dislike\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"Commentaries\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"NewCommentary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleCommentary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: e => {\n      setCommentary(e.target.value);\n    },\n    type: \"text\",\n    placeholder: \"Make a commentary ...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"Commentary-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, commentaries)));\n});","map":{"version":3,"sources":["D:/Programing/react/react-web/client/src/components/Home/Post.js"],"names":["React","$","config","like","dislike","textareaAutoHeight","props","useState","commentaries","setCommentaries","commentary","setCommentary","date","split","substr","x","useEffect","getCommentaries","get","api","_id","r","console","log","Object","keys","map","comment","body","handleCommentary","e","preventDefault","post","userInfos","localStorage","getItem","Date","padding","fontSize","color","owner","marginLeft","image","target","value","display"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport $ from 'jquery'\r\nimport config from '../config'\r\nimport like from '../assets/img_like.png'\r\nimport dislike from '../assets/img_dislike.png'\r\nimport textareaAutoHeight from '../tools/textareaAutoHeight'\r\n\r\n\r\nexport default props => {\r\n\r\n  const [commentaries, setCommentaries] = React.useState([])\r\n  const [commentary, setCommentary] = React.useState('')\r\n\r\n  var date = props.date.split(' ');\r\n  // 0 = day in week\r\n  // 1 = mouth\r\n  // 2 = day in number\r\n  // 3 = year\r\n  // 4 = exact time\r\n  // 5 = gmt stuff\r\n  // var date = date[4].substr(0, 2) + 'h ' + date[4].substr(3, 2) + 'm '\r\n  var date = date[4].substr(0, 5) + ' ' + date[0]\r\n  var x = 'aabbc'\r\n  //x.\r\n\r\n  React.useEffect(() => {\r\n    textareaAutoHeight('.NewCommentary')\r\n    getCommentaries()\r\n  }, [])\r\n\r\n  function getCommentaries() {\r\n    $.get(`${config.api}/getCommentaries`, {_id: props._id}, r => {\r\n      console.log(Object.keys(r))\r\n      setCommentaries(r.map(comment => (\r\n        <div key={r._id} className=\"Commentary\">{r.body}</div>\r\n      )))\r\n    })\r\n  }\r\n\r\n  function handleCommentary(e) {\r\n    e.preventDefault()\r\n    $.post(`${config.api}/insertCommentary`, {_id: props._id, userInfos: localStorage.getItem('@react-web/userInfos'), body: commentary, date: new Date()})\r\n  }\r\n\r\n  return (\r\n    <div className=\"Post\">\r\n      <p style={{padding: '15px', fontSize: '15px', color: '#00000073'}}>\r\n        <b style={{color: '#5c7ee9db'}}>{props.owner}</b> posted at <b>{date}</b>\r\n      </p>\r\n      <p style={{marginLeft: '15px'}}>{props.body}</p>\r\n      <div className=\"Post-image\">{props.image ? <img src={`${config.api}/public/images/${props.image}`} /> : ''}</div>\r\n      <div className=\"Post-actions\">\r\n        <label className=\"NewPost-likeLbl\" htmlFor=\"NewPost-like\">\r\n          <img src={like} className=\"img_actions\"/>\r\n          <input type=\"file\" id=\"NewPost-like\"/>\r\n        </label>\r\n        <label className=\"NewPost-dislikeLbl\" htmlFor=\"NewPost-dislike\">\r\n          <img src={dislike} className=\"img_actions\"/>\r\n          <input type=\"file\" id=\"NewPost-dislike\"/>\r\n        </label>\r\n      </div>\r\n      <div className=\"Commentaries\">\r\n        <div className=\"NewCommentary\">\r\n          <form onSubmit={handleCommentary}>\r\n            <input onChange={(e) => {\r\n              setCommentary(e.target.value)\r\n            }} type=\"text\" placeholder=\"Make a commentary ...\" />\r\n            <input type=\"submit\" style={{display: 'none'}} />\r\n          </form>\r\n        </div>\r\n        <div className=\"Commentary-list\">\r\n          {commentaries}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}