{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\gmorais\\\\Documents\\\\react-web\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\gmorais\\\\Documents\\\\react-web\\\\client\\\\src\\\\components\\\\Home\\\\Post.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport config from '../config';\nimport Commentary from './Commentary';\nimport NewCommentary from './NewCommentary';\nimport like from '../assets/img_like.png';\nimport dislike from '../assets/img_dislike.png';\nimport textareaAutoHeight from '../tools/textareaAutoHeight';\nexport default (props => {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        commentaries = _React$useState2[0],\n        setCommentaries = _React$useState2[1];\n\n  var date = props.date.split(' '); // 0 = day in week\n  // 1 = mouth\n  // 2 = day in number\n  // 3 = year\n  // 4 = exact time\n  // 5 = gmt stuff\n  // var date = date[4].substr(0, 2) + 'h ' + date[4].substr(3, 2) + 'm '\n\n  var date = date[4].substr(0, 5) + ' ' + date[0];\n  React.useEffect(() => {\n    // textareaAutoHeight('.NewCommentary')\n    getCommentaries();\n  }, []);\n\n  function getCommentaries() {\n    console.log('Getting commentaries ...');\n    $.get(\"\".concat(config.api, \"/getCommentaries\"), {\n      _id: props._id\n    }, r => {\n      console.log(r);\n      setCommentaries(Object.values(r).map(r => React.createElement(Commentary, {\n        key: r._id,\n        infos: r,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })));\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      padding: '15px',\n      fontSize: '15px',\n      color: '#00000073'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      color: '#5c7ee9db'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, props.owner), \" posted at \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, date)), React.createElement(\"p\", {\n    style: {\n      marginLeft: '15px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, props.body), React.createElement(\"div\", {\n    className: \"Post-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, props.image ? React.createElement(\"img\", {\n    src: \"\".concat(config.api, \"/public/images/\").concat(props.image),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }) : ''), React.createElement(\"div\", {\n    className: \"Post-actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: like,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: dislike,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"Commentaries\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Commentary-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, commentaries), React.createElement(\"div\", {\n    className: \"NewCommentary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(NewCommentary, {\n    getCommentaries: getCommentaries,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }))));\n});","map":{"version":3,"sources":["C:/Users/gmorais/Documents/react-web/client/src/components/Home/Post.js"],"names":["React","$","config","Commentary","NewCommentary","like","dislike","textareaAutoHeight","props","useState","commentaries","setCommentaries","date","split","substr","useEffect","getCommentaries","console","log","get","api","_id","r","Object","values","map","padding","fontSize","color","owner","marginLeft","body","image"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport $ from 'jquery'\r\nimport config from '../config'\r\nimport Commentary from './Commentary'\r\nimport NewCommentary from './NewCommentary'\r\nimport like from '../assets/img_like.png'\r\nimport dislike from '../assets/img_dislike.png'\r\nimport textareaAutoHeight from '../tools/textareaAutoHeight'\r\n\r\n\r\nexport default props => {\r\n\r\n  const [commentaries, setCommentaries] = React.useState([])\r\n\r\n  var date = props.date.split(' ');\r\n  // 0 = day in week\r\n  // 1 = mouth\r\n  // 2 = day in number\r\n  // 3 = year\r\n  // 4 = exact time\r\n  // 5 = gmt stuff\r\n  // var date = date[4].substr(0, 2) + 'h ' + date[4].substr(3, 2) + 'm '\r\n  var date = date[4].substr(0, 5) + ' ' + date[0]\r\n\r\n  React.useEffect(() => {\r\n    // textareaAutoHeight('.NewCommentary')\r\n    getCommentaries()\r\n  }, [])\r\n\r\n  function getCommentaries() {\r\n    console.log('Getting commentaries ...')\r\n    $.get(`${config.api}/getCommentaries`, {_id: props._id}, r => {\r\n      console.log(r)\r\n      setCommentaries(Object.values(r).map(r => (\r\n        <Commentary key={r._id} infos={r} />\r\n      )))\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"Post\">\r\n      <p style={{padding: '15px', fontSize: '15px', color: '#00000073'}}>\r\n        <b style={{color: '#5c7ee9db'}}>{props.owner}</b> posted at <b>{date}</b>\r\n      </p>\r\n      <p style={{marginLeft: '15px'}}>{props.body}</p>\r\n      <div className=\"Post-image\">\r\n        {props.image ? <img src={`${config.api}/public/images/${props.image}`} /> : ''}\r\n      </div>\r\n      <div className=\"Post-actions\">\r\n        <img src={like} className=\"img_actions\"/>\r\n        <img src={dislike} className=\"img_actions\"/>\r\n      </div>\r\n      <div className=\"Commentaries\">\r\n        <div className=\"Commentary-list\">\r\n          {commentaries}\r\n        </div>\r\n        <div className=\"NewCommentary\">\r\n          <NewCommentary getCommentaries={getCommentaries} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}