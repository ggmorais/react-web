{"ast":null,"code":"import _slicedToArray from \"D:\\\\Development\\\\react-web\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Development\\\\react-web\\\\client\\\\src\\\\components\\\\Home\\\\Main\\\\Post.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport config from '../../config';\nimport Commentary from './Commentary';\nimport NewCommentary from './NewCommentary';\nimport like from '../../assets/img_like.png';\nimport dislike from '../../assets/img_dislike.png';\nimport textareaAutoHeight from '../../tools/textareaAutoHeight';\nexport default (props => {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        commentaries = _React$useState2[0],\n        setCommentaries = _React$useState2[1];\n\n  var date = props.date.split(' ');\n  var date = date[4].substr(0, 5) + ' ' + date[0];\n  React.useEffect(() => {\n    getCommentaries();\n  }, []);\n\n  function getCommentaries() {\n    console.log('Getting commentaries ...');\n    $.get(\"\".concat(config.api, \"/getCommentaries\"), {\n      _id: props._id\n    }, r => {\n      setCommentaries(Object.values(r).map(r => React.createElement(Commentary, {\n        key: r._id,\n        infos: r,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      })));\n    });\n  }\n\n  function deletePost() {\n    $.post(\"\".concat(config.api, \"/deletePost\"), {\n      _id: props._id\n    }, r => {\n      var id = '#' + props._id;\n      $(id).fadeOut('slow');\n      setTimeout(() => {\n        $(id).remove();\n      }, 1000);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Post\",\n    id: props._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      padding: '15px',\n      fontSize: '15px',\n      color: '#00000073'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      color: '#5c7ee9db'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, props.owner), \" posted at \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, date), props.username === JSON.parse(localStorage.getItem('@react-web/userInfos')).username ? React.createElement(\"a\", {\n    onClick: deletePost,\n    style: {\n      cursor: 'pointer',\n      float: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Delete\") : null), React.createElement(\"p\", {\n    style: {\n      marginLeft: '15px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, props.body), React.createElement(\"div\", {\n    className: \"Post-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, props.image ? React.createElement(\"img\", {\n    src: \"\".concat(config.api, \"/public/post_images/\").concat(props.image),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }) : ''), React.createElement(\"div\", {\n    className: \"Post-actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: like,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: dislike,\n    className: \"img_actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"Commentaries\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Commentary-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, commentaries), React.createElement(\"div\", {\n    className: \"NewCommentary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(NewCommentary, {\n    _id: props._id,\n    getCommentaries: getCommentaries,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }))));\n});","map":{"version":3,"sources":["D:/Development/react-web/client/src/components/Home/Main/Post.js"],"names":["React","$","config","Commentary","NewCommentary","like","dislike","textareaAutoHeight","props","useState","commentaries","setCommentaries","date","split","substr","useEffect","getCommentaries","console","log","get","api","_id","r","Object","values","map","deletePost","post","id","fadeOut","setTimeout","remove","padding","fontSize","color","owner","username","JSON","parse","localStorage","getItem","cursor","float","marginLeft","body","image"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport $ from 'jquery'\r\nimport config from '../../config'\r\nimport Commentary from './Commentary'\r\nimport NewCommentary from './NewCommentary'\r\nimport like from '../../assets/img_like.png'\r\nimport dislike from '../../assets/img_dislike.png'\r\nimport textareaAutoHeight from '../../tools/textareaAutoHeight'\r\n\r\n\r\nexport default props => {\r\n\r\n  const [commentaries, setCommentaries] = React.useState([])\r\n\r\n\r\n  var date = props.date.split(' ');\r\n  var date = date[4].substr(0, 5) + ' ' + date[0]\r\n\r\n  React.useEffect(() => {\r\n    getCommentaries()\r\n  }, [])\r\n\r\n  function getCommentaries() {\r\n    console.log('Getting commentaries ...')\r\n\r\n    $.get(`${config.api}/getCommentaries`, {_id: props._id}, r => {\r\n      setCommentaries(Object.values(r).map(r => (\r\n        <Commentary key={r._id} infos={r} />\r\n      )))\r\n    })\r\n  }\r\n\r\n  function deletePost() {\r\n    $.post(`${config.api}/deletePost`, {_id: props._id}, r => {\r\n      var id = '#' + props._id\r\n\r\n      $(id).fadeOut('slow')\r\n      setTimeout(() => {\r\n        $(id).remove()\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"Post\" id={props._id}>\r\n      <p style={{padding: '15px', fontSize: '15px', color: '#00000073'}}>\r\n        <b style={{color: '#5c7ee9db'}}>{props.owner}</b> posted at <b>{date}</b>\r\n        {props.username === JSON.parse(localStorage.getItem('@react-web/userInfos')).username ? <a onClick={deletePost} style={{cursor: 'pointer', float: 'right'}}>Delete</a> : null}\r\n      </p>\r\n      <p style={{marginLeft: '15px'}}>{props.body}</p>\r\n      <div className=\"Post-image\">\r\n        {props.image ? <img src={`${config.api}/public/post_images/${props.image}`} /> : ''}\r\n      </div>\r\n      <div className=\"Post-actions\">\r\n        <img src={like} className=\"img_actions\"/>\r\n        <img src={dislike} className=\"img_actions\"/>\r\n      </div>\r\n      <div className=\"Commentaries\">\r\n        <div className=\"Commentary-list\">\r\n          {commentaries}\r\n        </div>\r\n        <div className=\"NewCommentary\">\r\n          <NewCommentary _id={props._id} getCommentaries={getCommentaries} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}